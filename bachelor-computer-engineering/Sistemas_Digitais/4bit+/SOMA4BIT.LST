0001 |module SOMADOR
0002 |title 'Somador de duas palavras de 4 bits'
0003 |
0004 |        soma4bit        device  'p22v10';
0005 |
0006 |        A,B,C,D         pin 1,2,3,4;
0007 |        E,F,G,H         pin 5,6,7,8;
0008 |        CBO,S1,S2,S3,S4 pin 14,15,16,17,18;
0009 |        CBI,C4,C3,C2    pin 10,20,21,22;
0010 |        EN              pin 13;  
0011 |
0012 |equations
0013 |        
0014 |        [CBO,S1,S2,S3,S4].oe = EN;
0015 |
0016 |        S4      =       D $ H $ CBI;
0017 |        C4      =       (D & H) # (CBI & H) # (CBI & D);
0018 |
0019 |        S3      =       C $ G $ C4;
0020 |        C3      =       (C & G) # (C4 & G) # (C4 & C);
0021 |
0022 |        S2      =       B $ F $ C3;
0023 |        C2      =       (B & F) # (C3 & F) # (C3 & B);
0024 |
0025 |        S1      =       A $ E $ C2;
0026 |
0027 |        CBO     =       (A & E) # (C2 & E) # (C2 & A);
0028 |
0029 |test_vectors "Somas" ( [EN,CBI,A,B,C,D,E,F,G,H] -> [CBO,S1,S2,S3,S4] )
0030 |                        [1,0,0,0,0,1,0,0,0,0] -> [0,0,0,0,1];
0031 |                        [1,0,1,1,1,1,1,1,1,1] -> [1,1,1,1,0];
0032 |                        [1,0,0,0,1,1,0,1,1,0] -> [0,1,0,0,1];
0033 |                        [1,0,1,1,1,1,0,1,1,1] -> [1,0,1,1,0];
0034 |                        [1,0,1,0,0,1,0,1,0,0] -> [0,1,1,0,1];
0035 |                        [1,0,1,1,0,0,0,1,1,1] -> [1,0,0,1,1];
0036 |                        [1,0,1,0,1,1,0,1,0,0] -> [0,1,1,1,1];
0037 |                        [1,0,1,1,0,0,0,0,1,1] -> [0,1,1,1,1];
0038 |                        [1,0,0,0,1,1,0,0,0,0] -> [0,0,0,1,1];
0039 |                        [1,0,0,0,0,0,0,0,1,1] -> [0,0,0,1,1];
0040 |                        [1,0,1,1,1,1,0,0,0,0] -> [0,1,1,1,1];
0041 |                        [1,0,1,0,1,0,0,1,1,1] -> [1,0,0,0,1];
0042 |                        [1,0,0,1,0,0,0,1,0,0] -> [0,1,0,0,0];
0043 |                        [1,0,1,1,0,1,0,1,1,1] -> [1,0,1,0,0];
0044 |                        [1,0,0,1,0,0,0,0,0,0] -> [0,0,1,0,0];
0045 |                        [1,0,0,0,0,1,0,0,1,1] -> [0,0,1,0,0];
0046 |                        [1,0,1,1,0,1,0,1,0,0] -> [1,0,0,0,1];
0047 |                        [1,0,0,0,1,0,0,0,1,1] -> [0,0,1,0,1];
0048 |                        [1,0,1,0,0,0,0,1,0,0] -> [0,1,1,0,0];
0049 |                        [1,0,0,1,1,1,0,0,1,1] -> [0,1,0,1,0];
0050 |                        [1,0,1,0,1,0,0,1,0,0] -> [0,1,1,1,0];
0051 |                        [1,1,0,0,0,1,0,0,1,1] -> [0,0,1,0,1];
0052 |                        [1,1,1,1,1,1,0,1,0,0] -> [1,0,1,0,0];
0053 |                        [1,1,0,1,0,0,0,1,1,1] -> [0,1,1,0,0];
0054 |                        [0,0,0,0,0,1,0,0,0,0] -> [.Z.,.Z.,.Z.,.Z.,.Z.];
0055 |
0056 |end SOMADOR
